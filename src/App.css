/* ...existing code... */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* small helpers */
:root { color-scheme: light dark; }
/* ...existing code... */

/* Base defaults */
@layer base {
  html, body, #root { height: 100%; }
  body {
    @apply bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100 antialiased;
  }
  h1, h2, h3, h4, h5, h6 { @apply font-semibold tracking-tight; }
  a { @apply underline-offset-2 text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 hover:underline; }
  ::selection { @apply bg-indigo-500/20; }
}

/* App shell */
@layer components {
  .app-shell { @apply grid min-h-screen grid-cols-1 lg:grid-cols-[280px_1fr]; }
  .sidebar { @apply hidden lg:flex lg:flex-col gap-2 border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 p-4; }
  .sidebar-section { @apply text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 px-2 mt-2; }
  .sidebar-link { @apply flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800; }
  .sidebar-link-active { @apply bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300; }

  .header { @apply sticky top-0 z-30 bg-white/60 dark:bg-gray-950/60 backdrop-blur border-b border-gray-200 dark:border-gray-800; }
  .header-inner { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between; }

  .container-page { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }

  /* Cards */
  .card { @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm; }
  .card-header { @apply p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between; }
  .card-body { @apply p-4; }
  .card-footer { @apply p-4 border-t border-gray-200 dark:border-gray-800; }

  /* Buttons */
  .btn { @apply inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none; }
  .btn-primary { @apply btn bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 dark:focus:ring-indigo-400; }
  .btn-ghost { @apply btn bg-transparent text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800; }
  .btn-danger { @apply btn bg-rose-600 text-white hover:bg-rose-700 focus:ring-rose-500; }

  /* Inputs */
  .label { @apply block text-sm font-medium text-gray-700 dark:text-gray-300; }
  .input { @apply w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400; }
  .select { @apply input pr-8; }
  .textarea { @apply input min-h-[120px]; }
  .input-group { @apply flex items-stretch rounded-lg overflow-hidden border border-gray-300 dark:border-gray-700; }
  .input-group > .input { @apply border-0 rounded-none flex-1; }
  .input-group > .btn { @apply rounded-none; }

  /* Badges and pills */
  .badge { @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300; }
  .badge-success { @apply bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300; }
  .badge-warning { @apply bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300; }
  .badge-danger { @apply bg-rose-100 text-rose-700 dark:bg-rose-900/50 dark:text-rose-300; }
  .pill { @apply inline-flex items-center gap-2 rounded-full border border-gray-300 dark:border-gray-700 px-3 py-1 text-xs; }

  /* Progress */
  .progress { @apply w-full h-2 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden; }
  .progress-bar { @apply h-full bg-indigo-600 dark:bg-indigo-500 transition-[width] duration-300 ease-out; }

  /* Course-specific */
  .course-card { @apply card; }
  .course-title { @apply text-base font-semibold; }
  .course-meta { @apply text-xs text-gray-500 dark:text-gray-400; }
  .course-actions { @apply flex items-center gap-2; }
  .progress-small { @apply h-1 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden; }
  .progress-small > .progress-bar { @apply h-1; }

  /* Filters/Search bar */
  .filters-bar { @apply flex flex-wrap items-center gap-2 justify-between; }
  .tabs { @apply inline-flex items-center gap-1 rounded-lg border border-gray-200 dark:border-gray-800 p-1 bg-white dark:bg-gray-900; }
  .tab { @apply px-3 py-1.5 text-sm rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800; }
  .tab-active { @apply bg-indigo-600 text-white hover:bg-indigo-600; }

  /* Table for lists */
  .table { @apply w-full text-sm; }
  .table thead th { @apply text-left font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-800 px-3 py-2; }
  .table tbody td { @apply border-b border-gray-100 dark:border-gray-800 px-3 py-3 align-middle; }
  .row-hover tbody tr:hover { @apply bg-gray-50 dark:bg-gray-900/60; }

  /* Empty state */
  .empty { @apply flex flex-col items-center justify-center rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center text-sm text-gray-600 dark:text-gray-400; }
}

/* Utilities */
@layer utilities {
  .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
  .hide-scrollbar::-webkit-scrollbar { display: none; }
  .card-grid { @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4; }
  .stack { @apply flex flex-col gap-2; }
  .skeleton { @apply animate-pulse bg-gray-200 dark:bg-gray-800 rounded; }
}